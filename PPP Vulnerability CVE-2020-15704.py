import socket
import subprocess

# Define the target IP and port
TARGET_IP = "192.168.1.100"
TARGET_PORT = 80

# Define the payload
payload = """
import os
import socket

# Create a socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Connect to the target server
sock.connect((TARGET_IP, TARGET_PORT))

# Send the payload to the target server
sock.sendall(b"GET / HTTP/1.1\r\nHost: {}\r\n\r\n".format(TARGET_IP))

# Receive the response from the target server
response = sock.recv(1024)

# Print the response
print(response.decode())

# Execute the command
command = "ls -l"
subprocess.Popen(command, shell=True)

# Close the socket
sock.close()
"""

# Define the exploit
exploit = """
import os
import socket

# Create a socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Connect to the vulnerable server
sock.connect(("192.168.1.200", 80))

# Send the payload to the vulnerable server
sock.sendall(payload.encode())

# Receive the response from the vulnerable server
response = sock.recv(1024)

# Print the response
print(response.decode())

# Close the socket
sock.close()
"""

# Execute the exploit
subprocess.Popen(exploit, shell=True)
